<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Boarding Pass</title>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
  --primary:#2563eb;
  --primary-glow:#3b82f6;
  --bg:#05070b;
  --card:#ffffff;
  --text:#ffffff;
  --muted:#9ca3af;
  --border:#e5e7eb;
}

*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  background:var(--bg);
  font-family:'DM Sans',sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--text);
  overflow:hidden;
}

/* ===== Ambient background ===== */
.bg{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 20%, rgba(59,130,246,.28), transparent 45%),
    radial-gradient(circle at 80% 80%, rgba(37,99,235,.22), transparent 45%);
  filter:blur(50px);
  z-index:-1;
}

/* ===== Controls ===== */
.controls{
  position:fixed;
  top:24px;
  right:24px;
  display:flex;
  gap:12px;
  z-index:10;
}

.controls button{
  padding:12px 20px;
  border-radius:999px;
  border:none;
  font-weight:700;
  cursor:pointer;
}

.download{
  background:linear-gradient(135deg,var(--primary),var(--primary-glow));
  color:white;
}

.pdf{
  background:transparent;
  border:2px solid rgba(255,255,255,.3);
  color:white;
}

/* ===== Ticket Wrapper ===== */
.ticket-wrap{
  perspective:1400px;
}

/* ===== Ticket ===== */
.ticket{
  width:760px;
  background:linear-gradient(180deg,#ffffff,#f8fafc);
  color:#020617;
  border-radius:30px;
  padding:40px;
  box-shadow:
    0 50px 140px rgba(0,0,0,.5),
    inset 0 0 0 1px rgba(0,0,0,.06);
  transform-style:preserve-3d;
  position:relative;
}

/* ===== Perforation ===== */
.perforation{
  position:absolute;
  left:0;
  right:0;
  top:56%;
  height:1px;
  background:repeating-linear-gradient(
    to right,
    transparent,
    transparent 10px,
    #cbd5e1 10px,
    #cbd5e1 18px
  );
}

/* ===== Header ===== */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:32px;
}

.airline{
  font-size:22px;
  font-weight:700;
  color:var(--primary);
}

.flight{
  font-size:18px;
  font-weight:600;
}

/* ===== Route ===== */
.route{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:30px;
}

.city{
  text-align:center;
}

.code{
  font-size:32px;
  font-weight:700;
}

.city span{
  font-size:14px;
  color:#64748b;
}

.arrow{
  font-size:28px;
  color:var(--primary);
}

/* ===== Info Grid ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:24px;
}

.label{
  font-size:12px;
  color:#64748b;
}

.value{
  font-size:16px;
  font-weight:600;
}

/* ===== Footer ===== */
.footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:40px;
}

.qr{
  width:120px;
  height:120px;
  background:linear-gradient(135deg,#e5e7eb,#c7d2fe);
  border-radius:16px;
}

/* Hint */
.hint{
  position:absolute;
  bottom:-40px;
  width:100%;
  text-align:center;
  font-size:13px;
  color:var(--muted);
}
</style>
</head>
<body>

<div class="bg"></div>

<div class="controls">
  <button class="download" onclick="downloadImage()">Download Image</button>
  <button class="pdf" onclick="downloadPDF()">Download PDF</button>
  <button class="secondary" onclick="goHome()">Home</button>
</div>

<div class="ticket-wrap">
  <div class="ticket" id="ticket">

    <div class="header">
      <div class="airline">AKASA AIR</div>
      <div class="flight">QP 1811</div>
    </div>

    <div class="route">
      <div class="city">
        <div class="code">BLR</div>
        <span>Bangalore</span>
      </div>

      <div class="arrow">✈</div>

      <div class="city">
        <div class="code">DEL</div>
        <span>Delhi</span>
      </div>
    </div>

   <div class="grid">
  <div>
    <div class="label">Passenger</div>
    <div class="value" id="name"></div>
  </div>
  <div>
    <div class="label">Seat</div>
    <div class="value" id="seat"></div>
  </div>
  <div>
    <div class="label">PNR</div>
    <div class="value">X9F2KQ</div>
  </div>
  <div>
    <div class="label">Class</div>
    <div class="value">Economy</div>
  </div>

  <div>
    <div class="label">Terminal</div>
    <div class="value">T2</div>
  </div>
  <div>
    <div class="label">Boarding Group</div>
    <div class="value">Group B</div>
  </div>
  <div>
    <div class="label">Aircraft</div>
    <div class="value">Boeing 737</div>
  </div>
  <div>
    <div class="label">Duration</div>
    <div class="value">3h 00m</div>
  </div>
</div>


    <div class="perforation"></div>

    <div class="footer">
  <div>
    <div class="label">Boarding</div>
    <div class="value">03:30 AM</div>
  </div>
  <div>
    <div class="label">Departure</div>
    <div class="value">04:00 AM</div>
  </div>
  <div>
    <div class="label">Date</div>
    <div class="value">24 Mar 2026</div>
  </div>
  <div>
    <div class="label">Ticket No</div>
    <div class="value">125-4567890123</div>
  </div>
  <div class="qr"></div>
</div>


    <div class="hint">Move your cursor for 3D effect ✨</div>
  </div>
</div>

<script>
/* ===== DATA ===== */
const d = JSON.parse(localStorage.getItem("reviewData")) || {};
document.getElementById("name").innerText =
  `${d.title || ""} ${d.firstName || ""} ${d.lastName || ""}`;
document.getElementById("seat").innerText = d.seat || "-";

/* ===== GSAP INTRO ===== */
gsap.from(".ticket",{
  y:80,
  opacity:0,
  rotateX:15,
  duration:1.4,
  ease:"expo.out"
});

/* ===== FLOAT ===== */
gsap.to(".ticket",{
  y:-12,
  repeat:-1,
  yoyo:true,
  duration:3,
  ease:"sine.inOut"
});

/* ===== 3D PARALLAX ===== */
const ticket=document.getElementById("ticket");
window.addEventListener("mousemove",e=>{
  const x=(e.clientX/window.innerWidth - 0.5) * 20;
  const y=(e.clientY/window.innerHeight - 0.5) * -20;

  gsap.to(ticket,{
    rotateY:x,
    rotateX:y,
    duration:0.6,
    ease:"power3.out"
  });
});

/* ===== DOWNLOAD IMAGE ===== */
function downloadImage(){
  html2canvas(ticket,{scale:2}).then(canvas=>{
    const link=document.createElement("a");
    link.download="boarding-pass.png";
    link.href=canvas.toDataURL();
    link.click();
  });
}

/* ===== DOWNLOAD PDF ===== */
function downloadPDF(){
  html2canvas(ticket,{scale:2}).then(canvas=>{
    const img=canvas.toDataURL("image/png");
    const { jsPDF } = window.jspdf;
    const pdf=new jsPDF("landscape","px",[canvas.width,canvas.height]);
    pdf.addImage(img,"PNG",0,0,canvas.width,canvas.height);
    pdf.save("boarding-pass.pdf");
  });
}
function goHome(){
  gsap.to("body",{
    opacity:0,
    duration:.8,
    ease:"power4.in",
    onComplete:()=>{
      localStorage.clear();
      location.href="index.html";
    }
  });
}
</script>

</body>
</html>
