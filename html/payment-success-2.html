<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Booking Confirmed</title>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<style>
:root{
  --primary:#2563eb;
  --primary-glow:#3b82f6;
  --bg:#05070b;
  --card:#ffffff;
  --text:#ffffff;
  --muted:#9ca3af;
  --border:#e5e7eb;
}

/* RESET */
*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  font-family:'DM Sans',sans-serif;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
}

/* ===== CINEMATIC BACKGROUND ===== */
.scene{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 20%, rgba(59,130,246,.25), transparent 45%),
    radial-gradient(circle at 80% 80%, rgba(37,99,235,.18), transparent 45%),
    linear-gradient(180deg, var(--bg), var(--bg));
  animation: ambientMove 22s ease-in-out infinite alternate;
}

@keyframes ambientMove{
  0%{background-position:0% 0%,100% 100%}
  100%{background-position:20% 40%,80% 60%}
}

/* ===== PARTICLES ===== */
.particle{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:var(--primary-glow);
  opacity:.45;
}

/* ===== CENTER EXPERIENCE ===== */
.experience{
  position:relative;
  z-index:2;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

.content{
  text-align:center;
  max-width:720px;
}

/* ===== SUCCESS ICON ===== */
.icon{
  width:170px;
  height:170px;
  margin:0 auto 46px;
  position:relative;
}

.glow{
  position:absolute;
  inset:0;
  border-radius:50%;
  background:radial-gradient(circle, rgba(59,130,246,.55), transparent 65%);
  filter:blur(36px);
  opacity:0;
}

svg{
  width:170px;
  height:170px;
}

circle{
  fill:none;
  stroke:var(--primary);
  stroke-width:4;
  stroke-dasharray:314;
  stroke-dashoffset:314;
}

path{
  fill:none;
  stroke:var(--primary);
  stroke-width:5;
  stroke-linecap:round;
  stroke-linejoin:round;
  stroke-dasharray:100;
  stroke-dashoffset:100;
}

/* ===== TEXT ===== */
h1{
  font-size:52px;
  font-weight:700;
  margin-bottom:14px;
}

.sub{
  font-size:18px;
  color:var(--muted);
  margin-bottom:48px;
}

/* ===== DETAILS ===== */
.details{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:26px;
  margin-bottom:54px;
}

.detail{
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(12px);
  border-radius:20px;
  padding:20px;
  border:1px solid rgba(255,255,255,.08);
}

.detail span{
  display:block;
  font-size:13px;
  color:var(--muted);
  margin-bottom:6px;
}

.detail strong{
  font-size:19px;
}

/* ===== CTA ===== */
.actions{
  display:flex;
  justify-content:center;
  gap:22px;
}

.btn{
  padding:18px 46px;
  border-radius:999px;
  border:none;
  font-weight:700;
  cursor:pointer;
  position:relative;
  overflow:hidden;
}

.primary{
  background:linear-gradient(135deg,var(--primary),var(--primary-glow));
  color:#fff;
}

.secondary{
  background:transparent;
  border:2px solid rgba(255,255,255,.25);
  color:var(--text);
}

/* Shine */
.btn::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.5),transparent);
  transform:translateX(-120%);
}

.btn:hover::after{
  animation:shine 1.3s ease;
}

@keyframes shine{
  to{transform:translateX(120%)}
}
</style>
</head>
<body>

<div class="scene"></div>

<div class="experience">
  <div class="content">

    <!-- ICON -->
    <div class="icon">
      <div class="glow"></div>
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="45"/>
        <path d="M28 52 L44 66 L72 36"/>
      </svg>
    </div>

    <h1>Booking Confirmed</h1>
    <p class="sub">Your payment was successful and your seat is locked in</p>

    <!-- DETAILS -->
    <div class="details">
      <div class="detail">
        <span>Passenger</span>
        <strong id="name">Ayush Srivastava</strong>
      </div>
      <div class="detail">
        <span>Seat</span>
        <strong id="seat"></strong>
      </div>
      <div class="detail">
        <span>Total Paid</span>
        <strong>SAR <span id="total"></span></strong>
      </div>
    </div>

    <!-- CTA -->
    <div class="actions">
      <button class="btn primary" onclick="downloadTick()">Download Ticket</button>
      <button class="btn secondary" onclick="goHome()">Return Home</button>
    </div>

  </div>
</div>

<script>
/* DATA */
const d = JSON.parse(localStorage.getItem("reviewData")) || {};
document.getElementById("name").innerText =
  `${d.title || ""} ${d.firstName || ""} ${d.lastName || ""}`;
document.getElementById("seat").innerText = d.seat || "-";
document.getElementById("total").innerText = d.total || "0";

/* MASTER TIMELINE */
const tl = gsap.timeline({ defaults:{ ease:"expo.out" } });

tl.to("circle",{strokeDashoffset:0,duration:1.3})
  .to("path",{strokeDashoffset:0,duration:.7},"-=.6")
  .to(".glow",{opacity:1,scale:1.5,duration:1},"-=.5")
  .from("h1",{y:40,opacity:0,duration:1},"-=.4")
  .from(".sub",{y:20,opacity:0,duration:.8},"-=.6")
  .from(".detail",{y:30,opacity:0,stagger:.15,duration:.9},"-=.6")
  .from(".btn",{y:20,opacity:0,stagger:.15,duration:.8},"-=.5");

/* PARTICLES */
for(let i=0;i<22;i++){
  const p=document.createElement("div");
  p.className="particle";
  document.body.appendChild(p);

  gsap.fromTo(p,{
    x:innerWidth/2,
    y:innerHeight/2,
    scale:0
  },{
    x:Math.random()*innerWidth,
    y:Math.random()*innerHeight,
    scale:Math.random()+0.3,
    duration:Math.random()*2+2,
    repeat:-1,
    yoyo:true,
    ease:"power1.out"
  });
}

/* HOME */
function goHome(){
  gsap.to("body",{
    opacity:0,
    duration:.8,
    onComplete:()=>{
      localStorage.clear();
      location.href="index.html";
    }
  });
}
</script>
<script src="./main.js"></script>
</body>
</html>
